import{_ as n}from"./framework-c27b6911.js";import{o as s,c as a,a as e}from"./app-b9cc7c31.js";const t={},o=e(`<p>在微信开发者工具中有时候会遇到ios和Android上不兼容的问题，因此这里做一个记录，方便排查问题</p><h3 id="时间转换问题" tabindex="-1"><a class="header-anchor" href="#时间转换问题" aria-hidden="true">#</a> 时间转换问题</h3><p>new Date(&quot;时间&quot;) 在IOS会出现NAN的情况所以对于时间转换需要另行封装</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">formatDate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">date</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webview缓存问题" tabindex="-1"><a class="header-anchor" href="#webview缓存问题" aria-hidden="true">#</a> webview缓存问题</h3><p>在微信小程序中使用webview嵌套h5页面时 在某些安卓手机中会有缓存问题 导致页面无法及时更新 因此需要在跳转webview地址中携带版本号</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> config<span class="token punctuation">;</span>
config <span class="token operator">=</span> envVersion <span class="token operator">===</span> <span class="token string">&quot;trial&quot;</span> <span class="token operator">?</span> trial <span class="token operator">:</span> envVersion <span class="token operator">===</span> <span class="token string">&quot;develop&quot;</span> <span class="token operator">?</span> develop <span class="token operator">:</span> release<span class="token punctuation">;</span>
<span class="token comment">// 定义的全局变量</span>
config<span class="token punctuation">.</span>version <span class="token operator">=</span> <span class="token string">&quot;20220726&quot;</span><span class="token punctuation">;</span> <span class="token comment">// webview页面发版之后升级一次版本号</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),p=[o];function c(i,l){return s(),a("div",null,p)}const d=n(t,[["render",c],["__file","AndroidIosDiff.html.vue"]]);export{d as default};
